#!/bin/bash

# Filenames of 3-4-5 syzygy tb files at http://tablebase.sesse.net/syzygy/3-4-5/
files="KBBBvK.rtbw
KBBBvK.rtbz
KBBNvK.rtbw
KBBNvK.rtbz
KBBPvK.rtbw
KBBPvK.rtbz
KBBvK.rtbw
KBBvK.rtbz
KBBvKB.rtbw
KBBvKB.rtbz
KBBvKN.rtbw
KBBvKN.rtbz
KBBvKP.rtbw
KBBvKP.rtbz
KBBvKQ.rtbw
KBBvKQ.rtbz
KBBvKR.rtbw
KBBvKR.rtbz
KBNNvK.rtbw
KBNNvK.rtbz
KBNPvK.rtbw
KBNPvK.rtbz
KBNvK.rtbw
KBNvK.rtbz
KBNvKB.rtbw
KBNvKB.rtbz
KBNvKN.rtbw
KBNvKN.rtbz
KBNvKP.rtbw
KBNvKP.rtbz
KBNvKQ.rtbw
KBNvKQ.rtbz
KBNvKR.rtbw
KBNvKR.rtbz
KBPPvK.rtbw
KBPPvK.rtbz
KBPvK.rtbw
KBPvK.rtbz
KBPvKB.rtbw
KBPvKB.rtbz
KBPvKN.rtbw
KBPvKN.rtbz
KBPvKP.rtbw
KBPvKP.rtbz
KBPvKQ.rtbw
KBPvKQ.rtbz
KBPvKR.rtbw
KBPvKR.rtbz
KBvK.rtbw
KBvK.rtbz
KBvKB.rtbw
KBvKB.rtbz
KBvKN.rtbw
KBvKN.rtbz
KBvKP.rtbw
KBvKP.rtbz
KNNNvK.rtbw
KNNNvK.rtbz
KNNPvK.rtbw
KNNPvK.rtbz
KNNvK.rtbw
KNNvK.rtbz
KNNvKB.rtbw
KNNvKB.rtbz
KNNvKN.rtbw
KNNvKN.rtbz
KNNvKP.rtbw
KNNvKP.rtbz
KNNvKQ.rtbw
KNNvKQ.rtbz
KNNvKR.rtbw
KNNvKR.rtbz
KNPPvK.rtbw
KNPPvK.rtbz
KNPvK.rtbw
KNPvK.rtbz
KNPvKB.rtbw
KNPvKB.rtbz
KNPvKN.rtbw
KNPvKN.rtbz
KNPvKP.rtbw
KNPvKP.rtbz
KNPvKQ.rtbw
KNPvKQ.rtbz
KNPvKR.rtbw
KNPvKR.rtbz
KNvK.rtbw
KNvK.rtbz
KNvKN.rtbw
KNvKN.rtbz
KNvKP.rtbw
KNvKP.rtbz
KPPPvK.rtbw
KPPPvK.rtbz
KPPvK.rtbw
KPPvK.rtbz
KPPvKB.rtbw
KPPvKB.rtbz
KPPvKN.rtbw
KPPvKN.rtbz
KPPvKP.rtbw
KPPvKP.rtbz
KPPvKQ.rtbw
KPPvKQ.rtbz
KPPvKR.rtbw
KPPvKR.rtbz
KPvK.rtbw
KPvK.rtbz
KPvKP.rtbw
KPvKP.rtbz
KQBBvK.rtbw
KQBBvK.rtbz
KQBNvK.rtbw
KQBNvK.rtbz
KQBPvK.rtbw
KQBPvK.rtbz
KQBvK.rtbw
KQBvK.rtbz
KQBvKB.rtbw
KQBvKB.rtbz
KQBvKN.rtbw
KQBvKN.rtbz
KQBvKP.rtbw
KQBvKP.rtbz
KQBvKQ.rtbw
KQBvKQ.rtbz
KQBvKR.rtbw
KQBvKR.rtbz
KQNNvK.rtbw
KQNNvK.rtbz
KQNPvK.rtbw
KQNPvK.rtbz
KQNvK.rtbw
KQNvK.rtbz
KQNvKB.rtbw
KQNvKB.rtbz
KQNvKN.rtbw
KQNvKN.rtbz
KQNvKP.rtbw
KQNvKP.rtbz
KQNvKQ.rtbw
KQNvKQ.rtbz
KQNvKR.rtbw
KQNvKR.rtbz
KQPPvK.rtbw
KQPPvK.rtbz
KQPvK.rtbw
KQPvK.rtbz
KQPvKB.rtbw
KQPvKB.rtbz
KQPvKN.rtbw
KQPvKN.rtbz
KQPvKP.rtbw
KQPvKP.rtbz
KQPvKQ.rtbw
KQPvKQ.rtbz
KQPvKR.rtbw
KQPvKR.rtbz
KQQBvK.rtbw
KQQBvK.rtbz
KQQNvK.rtbw
KQQNvK.rtbz
KQQPvK.rtbw
KQQPvK.rtbz
KQQQvK.rtbw
KQQQvK.rtbz
KQQRvK.rtbw
KQQRvK.rtbz
KQQvK.rtbw
KQQvK.rtbz
KQQvKB.rtbw
KQQvKB.rtbz
KQQvKN.rtbw
KQQvKN.rtbz
KQQvKP.rtbw
KQQvKP.rtbz
KQQvKQ.rtbw
KQQvKQ.rtbz
KQQvKR.rtbw
KQQvKR.rtbz
KQRBvK.rtbw
KQRBvK.rtbz
KQRNvK.rtbw
KQRNvK.rtbz
KQRPvK.rtbw
KQRPvK.rtbz
KQRRvK.rtbw
KQRRvK.rtbz
KQRvK.rtbw
KQRvK.rtbz
KQRvKB.rtbw
KQRvKB.rtbz
KQRvKN.rtbw
KQRvKN.rtbz
KQRvKP.rtbw
KQRvKP.rtbz
KQRvKQ.rtbw
KQRvKQ.rtbz
KQRvKR.rtbw
KQRvKR.rtbz
KQvK.rtbw
KQvK.rtbz
KQvKB.rtbw
KQvKB.rtbz
KQvKN.rtbw
KQvKN.rtbz
KQvKP.rtbw
KQvKP.rtbz
KQvKQ.rtbw
KQvKQ.rtbz
KQvKR.rtbw
KQvKR.rtbz
KRBBvK.rtbw
KRBBvK.rtbz
KRBNvK.rtbw
KRBNvK.rtbz
KRBPvK.rtbw
KRBPvK.rtbz
KRBvK.rtbw
KRBvK.rtbz
KRBvKB.rtbw
KRBvKB.rtbz
KRBvKN.rtbw
KRBvKN.rtbz
KRBvKP.rtbw
KRBvKP.rtbz
KRBvKQ.rtbw
KRBvKQ.rtbz
KRBvKR.rtbw
KRBvKR.rtbz
KRNNvK.rtbw
KRNNvK.rtbz
KRNPvK.rtbw
KRNPvK.rtbz
KRNvK.rtbw
KRNvK.rtbz
KRNvKB.rtbw
KRNvKB.rtbz
KRNvKN.rtbw
KRNvKN.rtbz
KRNvKP.rtbw
KRNvKP.rtbz
KRNvKQ.rtbw
KRNvKQ.rtbz
KRNvKR.rtbw
KRNvKR.rtbz
KRPPvK.rtbw
KRPPvK.rtbz
KRPvK.rtbw
KRPvK.rtbz
KRPvKB.rtbw
KRPvKB.rtbz
KRPvKN.rtbw
KRPvKN.rtbz
KRPvKP.rtbw
KRPvKP.rtbz
KRPvKQ.rtbw
KRPvKQ.rtbz
KRPvKR.rtbw
KRPvKR.rtbz
KRRBvK.rtbw
KRRBvK.rtbz
KRRNvK.rtbw
KRRNvK.rtbz
KRRPvK.rtbw
KRRPvK.rtbz
KRRRvK.rtbw
KRRRvK.rtbz
KRRvK.rtbw
KRRvK.rtbz
KRRvKB.rtbw
KRRvKB.rtbz
KRRvKN.rtbw
KRRvKN.rtbz
KRRvKP.rtbw
KRRvKP.rtbz
KRRvKQ.rtbw
KRRvKQ.rtbz
KRRvKR.rtbw
KRRvKR.rtbz
KRvK.rtbw
KRvK.rtbz
KRvKB.rtbw
KRvKB.rtbz
KRvKN.rtbw
KRvKN.rtbz
KRvKP.rtbw
KRvKP.rtbz
KRvKR.rtbw
KRvKR.rtbz
checksum.md5
"

# Check to see if we have a cached build from earlier.
if [ -f "$TRAVIS_BUILD_DIR/syzygy/KRvK.rtbz" ]; then
    echo "Using cached tablebase files"
else
    echo "Downloading 3-4-5 Syzygy tablebase files..."

    for file in $files; do
        wget http://tablebase.sesse.net/syzygy/3-4-5/$file -O syzygy/$file
    done
fi

echo "Verifying the checksums for the tablebase files..."
pipenv run python syzygy/verify_checksums.py -c syzygy/checksum.md5 -d syzygy

